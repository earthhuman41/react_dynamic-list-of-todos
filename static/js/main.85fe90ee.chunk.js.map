{"version":3,"sources":["components/TodoItem/TodoItem.js","components/Filters/Filters.js","components/User/User.js","components/TodoList/TodoList.js","components/Loading/Loading.js","api/loadData.js","components/App/App.js","api/apiLinks.js","index.js"],"names":["TodoItem","_ref","todo","setUserInfo","react_default","a","createElement","className","onClick","user","name","title","concat","completed","Filter","props","changeFilterField","User","username","email","href","website","TodoList","state","filterField","filterSubfield","direction","showUserInfo","chosenUser","_this","setState","value","subvalue","_this$state","field","subfield","_this2","this","Object","toConsumableArray","todosList","sort","x","y","String","localeCompare","_this3","list","filter","listOfTodos","forEach","item","push","components_TodoItem_TodoItem","key","id","_this$state2","Filters_Filters","showList","components_User_User","React","Component","Loading","loadData","asyncToGenerator","regenerator_default","mark","_callee","link","fetchedData","loadedData","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","_x","apply","arguments","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","loadTodos","loadingRequested","prepareData","loaded","todos","users","preparedTodos","map","find","userId","components_Loading_Loading","components_TodoList_TodoList","ReactDOM","render","components_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.85fe90ee.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport './TodoItem.css';\n\nconst TodoItem = ({ todo, setUserInfo }) => {\n  const showUser = () => {\n    setUserInfo(todo.user);\n  };\n\n  const isCompleted = () => {\n    return todo.todo.completed\n      ? 'todo-item__status--completed'\n      : 'todo-item__status--uncompleted';\n  };\n\n  return (\n    // eslint-disable-next-line max-len\n    <tr className=\"todo-item\">\n\n      {/* eslint-disable-next-line max-len */}\n      {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-noninteractive-element-interactions */}\n      <td className=\"todo-item__name\" onClick={showUser}>\n        {todo.user.name}\n      </td>\n      <td className=\"todo-item__title\">\n        {todo.todo.title}\n      </td>\n      <td className={`todo-item__status ${isCompleted()}`}>\n        {todo.todo.completed ? 'Completed' : 'Uncompleted'}\n      </td>\n\n    </tr>\n  );\n};\n\nconst userShape = {\n  name: PropTypes.string.isRequired,\n};\n\nconst todoShape = {\n  title: PropTypes.string.isRequired,\n  completed: PropTypes.bool.isRequired,\n};\n\nTodoItem.propTypes = {\n  todo: PropTypes.shape({\n    user: PropTypes.shape(userShape).isRequired,\n    todo: PropTypes.shape(todoShape).isRequired,\n  }).isRequired,\n  setUserInfo: PropTypes.func.isRequired,\n};\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './Filters.css';\n\nconst Filter = props => (\n  <tr className=\"filter\">\n    <th onClick={() => { props.changeFilterField('user', 'name'); }}>\n        User\n    </th>\n    <th onClick={() => { props.changeFilterField('todo', 'title'); }}>\n        Title\n    </th>\n    <th onClick={() => { props.changeFilterField('todo', 'completed'); }}>\n        Is completed\n    </th>\n  </tr>\n);\n\nFilter.propTypes = {\n  changeFilterField: PropTypes.func.isRequired,\n};\n\nexport default Filter;\n","import React from 'react';\nimport './User.css';\nimport PropTypes from 'prop-types';\n\nconst User = ({ user, setUserInfo }) => (\n  <div className=\"user\">\n    <div className=\"user__info\">\n      <h3 className=\"user__name\">{user.name}</h3>\n      <div className=\"additional-info\">\n        <p className=\"user__username\">{user.username}</p>\n        <p className=\"user__email\">{user.email}</p>\n        <a href={user.website} className=\"user__website\">{user.website}</a>\n      </div>\n    </div>\n    {/* eslint-disable-next-line max-len */}\n    {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions */}\n    <div onClick={() => { setUserInfo(); }} className=\"user__background\"> </div>\n  </div>\n);\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    username: PropTypes.string,\n    email: PropTypes.string,\n    website: PropTypes.string,\n  }).isRequired,\n  setUserInfo: PropTypes.func.isRequired,\n\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TodoItem from '../TodoItem/TodoItem';\nimport Filter from '../Filters/Filters';\nimport User from '../User/User';\n\nimport './TodoList.css';\n\nclass TodoList extends React.Component {\n  state = {\n    filterField: 'user',\n    filterSubfield: 'name',\n    direction: 1,\n    showUserInfo: false,\n    chosenUser: {},\n  };\n\n  setUserInfo = (user) => {\n    if (user) {\n      this.setState({\n        chosenUser: user,\n        showUserInfo: true,\n      });\n    } else {\n      this.setState({ showUserInfo: false });\n    }\n  };\n\n  changeFilterField = (value, subvalue) => {\n    const { filterField, filterSubfield } = this.state;\n    // eslint-disable-next-line max-len,react/no-access-state-in-setstate\n    const direction = (filterField === value && filterSubfield === subvalue) ? this.state.direction * -1 : 1;\n\n    this.setState({\n      filterField: value,\n      filterSubfield: subvalue,\n      direction,\n    });\n  };\n\n  filter(field, subfield) {\n    const list = [...this.props.todosList];\n    return list.sort((x, y) => {\n      if (typeof subfield === 'string') {\n        // eslint-disable-next-line max-len\n        return String(x[field][subfield]).localeCompare((String(y[field][subfield]))) * this.state.direction;\n      }\n      return x[field][subfield] - y[field][subfield] * this.state.direction;\n    });\n  }\n\n  showList() {\n    const list = this.filter(this.state.filterField, this.state.filterSubfield);\n    // eslint-disable-next-line max-len\n    const listOfTodos = [];\n    list.forEach((item) => {\n      // eslint-disable-next-line max-len\n      listOfTodos.push(<TodoItem setUserInfo={this.setUserInfo} key={item.id} todo={item} />);\n    });\n\n    return listOfTodos;\n  }\n\n  render() {\n    const { showUserInfo, chosenUser } = this.state;\n    return (\n      <div className=\"todo-wrapper\">\n        <table className=\"todo-list\">\n          <Filter changeFilterField={this.changeFilterField} />\n          {\n            this.showList()\n          }\n        </table>\n        {\n          // eslint-disable-next-line max-len\n          showUserInfo && <User setUserInfo={this.setUserInfo} user={chosenUser} />\n        }\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todosList: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default TodoList;\n","import React from 'react';\nimport './Loading.css';\n\nconst Loading = () => (\n  <div className=\"loading\">\n    <div className=\"loading__circle\" />\n  </div>\n);\n\nexport default Loading;\n","const loadData = async(link) => {\n  const fetchedData = await fetch(link);\n  const loadedData = await fetchedData.json();\n  return loadedData;\n};\n\nexport default loadData;\n","import React from 'react';\nimport './App.css';\nimport TodoList from '../TodoList/TodoList';\nimport Loading from '../Loading/Loading';\nimport loadData from '../../api/loadData';\n\nimport { usersLink, todosLink } from '../../api/apiLinks';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      todosList: [],\n      loaded: false,\n      loadingRequested: false,\n    };\n  }\n\n  // Load data on button click and show TodoList\n  loadTodos = async() => {\n    this.setState({ loadingRequested: true });\n    await this.prepareData();\n    this.setState({\n      loadingRequested: false,\n      loaded: true,\n    });\n  };\n\n  // Connect user with his todos and return array of objects\n  async prepareData() {\n    // eslint-disable-next-line max-len\n    const todos = await loadData(todosLink);\n    // eslint-disable-next-line max-len\n    const users = await loadData(usersLink);\n\n    const preparedTodos = todos.map(todo => ({\n      todo,\n      user: users.find(user => todo.userId === user.id),\n    }));\n\n    this.setState({ todosList: preparedTodos });\n  }\n\n  render() {\n    const { loaded, loadingRequested, todosList } = this.state;\n    return (\n      <main className=\"main\">\n        {\n          loadingRequested && <Loading />\n        }\n        {\n          // eslint-disable-next-line max-len,react/button-has-type\n          !loaded && (\n            <button className=\"load-btn\" onClick={this.loadTodos}>\n              Load\n            </button>\n          )\n        }\n        {\n          // eslint-disable-next-line max-len\n          loaded && <TodoList todosList={todosList} />\n        }\n      </main>\n    );\n  }\n}\n\nexport default App;\n","export const usersLink = 'https://jsonplaceholder.typicode.com/users';\nexport const todosLink = 'https://jsonplaceholder.typicode.com/todos';\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}