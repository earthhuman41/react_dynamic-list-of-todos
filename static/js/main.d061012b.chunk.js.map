{"version":3,"sources":["components/TodoItem/TodoItem.js","components/Filters/Filters.js","components/User/User.js","components/TodoList/TodoList.js","components/Loading/Loading.js","api/loadData.js","components/App/App.js","api/apiLinks.js","index.js"],"names":["TodoItem","_ref","todo","setUserInfo","react_default","a","createElement","className","concat","completed","onClick","user","name","title","Filter","props","changeFilterField","User","username","email","href","website","TodoList","state","filterField","filterSubfield","direction","showUserInfo","chosenUser","console","log","Object","assertThisInitialized","_this","setState","value","subvalue","_this$state","field","subfield","_this2","this","todosList","sort","x","y","String","localeCompare","_this3","list","filter","listOfTodos","forEach","item","push","components_TodoItem_TodoItem","key","id","Filters_Filters","showList","components_User_User","React","Component","Loading","loadData","asyncToGenerator","regenerator_default","mark","_callee","link","fetchedData","loadedData","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","_x","apply","arguments","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleClickAndLoadTodo","showLoading","prepareData","isLoaded","todos","users","preparedTodos","map","find","userId","components_Loading_Loading","components_TodoList_TodoList","ReactDOM","render","components_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.d061012b.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport './TodoItem.css';\n\nconst TodoItem = ({ todo, setUserInfo }) => {\n  const showUser = () => {\n    setUserInfo(todo.user);\n  };\n  return (\n    // eslint-disable-next-line max-len\n    <div className={`todo-list__item ${todo.todo.completed ? 'todo-list__item--completed' : 'todo-list__item--uncompleted'}`}>\n\n      {/* eslint-disable-next-line max-len */}\n      {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-noninteractive-element-interactions */}\n      <p className=\"todo-list__item__name\" onClick={showUser}>\n        {todo.user.name}\n      </p>\n      <p className=\"todo-list__item__title\">\n        {todo.todo.title}\n      </p>\n      <p className=\"todo-list__item__completed\">\n        {todo.todo.completed ? 'Completed' : 'Uncompleted'}\n      </p>\n\n    </div>\n  );\n};\n\nconst userShape = {\n  name: PropTypes.string.isRequired,\n};\n\nconst todoShape = {\n  title: PropTypes.string.isRequired,\n  completed: PropTypes.bool.isRequired,\n};\n\nTodoItem.propTypes = {\n  todo: PropTypes.shape({\n    user: PropTypes.shape(userShape).isRequired,\n    todo: PropTypes.shape(todoShape).isRequired,\n  }).isRequired,\n  setUserInfo: PropTypes.func.isRequired,\n};\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './Filters.css';\n\nconst Filter = props => (\n  <div className=\"filter\">\n    {/* eslint-disable-next-line max-len */}\n    {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-noninteractive-element-interactions */}\n    <p onClick={() => { props.changeFilterField('user', 'name'); }}>\n        User\n    </p>\n    {/* eslint-disable-next-line max-len */}\n    {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-noninteractive-element-interactions */}\n    <p onClick={() => { props.changeFilterField('todo', 'title'); }}>\n        Title\n    </p>\n    {/* eslint-disable-next-line max-len */}\n    {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-noninteractive-element-interactions */}\n    <p onClick={() => { props.changeFilterField('todo', 'completed'); }}>\n        Is completed\n    </p>\n  </div>\n);\n\nFilter.propTypes = {\n  changeFilterField: PropTypes.func.isRequired,\n};\n\nexport default Filter;\n","import React from 'react';\nimport './User.css';\nimport PropTypes from 'prop-types';\n\nconst User = ({ user, setUserInfo }) => (\n  <div className=\"user\">\n    <div className=\"user__info\">\n      <h3 className=\"user__name\">{user.name}</h3>\n      <div className=\"user__info__wrapper\">\n        <p className=\"user__username\">{user.username}</p>\n        <p className=\"user__email\">{user.email}</p>\n        <a href={user.website} className=\"user__website\">{user.website}</a>\n      </div>\n    </div>\n    {/* eslint-disable-next-line max-len */}\n    {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions */}\n    <div onClick={() => { setUserInfo(); }} className=\"user__background\"> </div>\n  </div>\n);\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    username: PropTypes.string,\n    email: PropTypes.string,\n    website: PropTypes.string,\n  }).isRequired,\n  setUserInfo: PropTypes.func.isRequired,\n\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TodoItem from '../TodoItem/TodoItem';\nimport Filter from '../Filters/Filters';\nimport User from '../User/User';\n\nimport './TodoList.css';\n\nclass TodoList extends React.Component {\n  state = {\n    filterField: 'user',\n    filterSubfield: 'name',\n    direction: 1,\n    showUserInfo: false,\n    chosenUser: {},\n  };\n\n  setUserInfo = (user) => {\n    if (user) {\n      console.log(this);\n      this.setState({\n        chosenUser: user,\n        showUserInfo: true,\n      });\n    } else {\n      this.setState({ showUserInfo: false });\n    }\n  };\n\n  changeFilterField = (value, subvalue) => {\n    const { filterField, filterSubfield } = this.state;\n    // eslint-disable-next-line max-len,react/no-access-state-in-setstate\n    const direction = (filterField === value && filterSubfield === subvalue) ? this.state.direction * -1 : 1;\n\n    this.setState({\n      filterField: value,\n      filterSubfield: subvalue,\n      direction,\n    });\n  };\n\n  filter(field, subfield) {\n    const list = this.props.todosList;\n    return list.sort((x, y) => {\n      if (subfield !== 'completed') {\n        // eslint-disable-next-line max-len\n        return String(x[field][subfield]).localeCompare((String(y[field][subfield]))) * this.state.direction;\n      }\n      return x[field][subfield] - y[field][subfield] * this.state.direction;\n    });\n  }\n\n  showList() {\n    const list = this.filter(this.state.filterField, this.state.filterSubfield);\n    // eslint-disable-next-line max-len\n    const listOfTodos = [];\n    list.forEach((item) => {\n      // eslint-disable-next-line max-len\n      listOfTodos.push(<TodoItem setUserInfo={this.setUserInfo} key={item.id} todo={item} />);\n    });\n\n    return listOfTodos;\n  }\n\n  render() {\n    return (\n      <div className=\"todo-wrapper\">\n        <Filter changeFilterField={this.changeFilterField} />\n        <div className=\"todo-list\">\n          {\n            this.showList()\n          }\n        </div>\n        {\n          // eslint-disable-next-line max-len\n          this.state.showUserInfo && <User setUserInfo={this.setUserInfo} showUserInfo={this.state.showUserInfo} user={this.state.chosenUser} />\n        }\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todosList: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default TodoList;\n","import React from 'react';\nimport './Loading.css';\n\nconst Loading = () => (\n  <div className=\"loading\">\n    <div className=\"loading__circle\" />\n  </div>\n);\n\nexport default Loading;\n","const loadData = async(link) => {\n  const fetchedData = await fetch(link);\n  const loadedData = await fetchedData.json();\n  return loadedData;\n};\n\nexport default loadData;\n","import React from 'react';\nimport './App.css';\nimport TodoList from '../TodoList/TodoList';\nimport Loading from '../Loading/Loading';\nimport loadData from '../../api/loadData';\n\nimport { usersLink, todosLink } from '../../api/apiLinks';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      todosList: [],\n      isLoaded: false,\n      showLoading: false,\n    };\n  }\n\n  // Load data on button click and show TodoList\n  handleClickAndLoadTodo = async() => {\n    this.setState({ showLoading: true });\n    await this.prepareData();\n    this.setState({\n      showLoading: false,\n      isLoaded: true,\n    });\n  };\n\n  // Connect user with his todos and return array of objects\n  async prepareData() {\n    // eslint-disable-next-line max-len\n    const todos = await loadData(todosLink);\n    // eslint-disable-next-line max-len\n    const users = await loadData(usersLink);\n\n    const preparedTodos = todos.map(todo => ({\n      todo,\n      user: users.find(user => todo.userId === user.id),\n    }));\n\n    this.setState({ todosList: preparedTodos });\n  }\n\n  render() {\n    return (\n      <main className=\"main\">\n        {\n          this.state.showLoading && <Loading />\n        }\n        {\n          // eslint-disable-next-line max-len,react/button-has-type\n          !this.state.isLoaded && <button className=\"load-btn\" onClick={this.handleClickAndLoadTodo}>Load</button>\n        }\n        {\n          // eslint-disable-next-line max-len\n          this.state.isLoaded && <TodoList todosList={this.state.todosList} />\n        }\n      </main>\n    );\n  }\n}\n\nexport default App;\n","export const usersLink = 'https://jsonplaceholder.typicode.com/users';\nexport const todosLink = 'https://jsonplaceholder.typicode.com/todos';\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}